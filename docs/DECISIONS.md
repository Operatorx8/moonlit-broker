# DECISIONS.md - 架构决策日志

## ADR-001: 冷却使用 tick 而非系统时间

**日期**: 2026-02

**决策**: 所有冷却使用游戏 tick (`world.getTime()`) 计算，不使用 `System.currentTimeMillis()`。

**原因**: 游戏暂停时冷却也暂停，符合玩家预期。

---

## ADR-002: AttributeModifier 使用固定 UUID

**日期**: 2026-02

**决策**: 动态属性修改器（如流亡面甲攻击力加成）使用预定义固定 UUID。

**原因**: 避免重复添加导致数值叠加 bug，使用 `removeModifier(uuid)` + `addModifier(uuid)` 实现覆盖式更新。

---

## ADR-003: 图腾优先于回溯额饰

**日期**: 2026-02

**决策**: 玩家手持不死图腾时，爆炸致死优先触发图腾效果，回溯额饰不触发。

**原因**: 不修改原版机制，图腾是原版物品应保持其行为。

---

## ADR-004: 边沿触发避免重复

**日期**: 2026-02

**决策**: 遗世之环的"被盯上"效果使用边沿触发（从无目标→有目标），同一怪物持续追击不重复触发。

**原因**: 避免战斗中频繁触发导致效果过强或日志刷屏。
